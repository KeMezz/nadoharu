## 1. 인증 계약 정렬

- [ ] 1.1 `apps/web`에 `createUser(input)`, `login(input)`, `me` 기준의 GraphQL 문서와 코드젠 타입 구조를 추가한다
- [ ] 1.2 로그인 입력 필드를 `accountId/password`로 통일하고 기존 레거시 필드명 전제를 제거한다
- [ ] 1.3 인증 요청 진입점을 단일화하여 환경별 URL/쿠키 전달 규칙(`credentials: include` 또는 동등 설정)을 일관되게 적용한다

## 2. 로그인 화면 구현 (TDD)

- [ ] 2.1 로그인 폼 필수 입력/제출 페이로드/성공·실패 동작에 대한 실패 테스트를 먼저 작성한다
- [ ] 2.2 로그인 UI(입력, 제출, pending 상태)를 구현해 테스트를 통과시킨다
- [ ] 2.3 로그인 성공 시 `/me`로 이동하고 실패 시 재입력 가능 상태를 유지한다

## 3. 회원가입 화면 구현 (TDD)

- [ ] 3.1 회원가입 폼(`accountId`, `password`, `email`, `name`) 검증/제출 동작에 대한 실패 테스트를 먼저 작성한다
- [ ] 3.2 회원가입 UI 및 제출 로직을 구현해 테스트를 통과시킨다
- [ ] 3.3 회원가입 성공 시 로그인 흐름으로 이동하고 실패 시 오류를 표시한 뒤 재시도를 허용한다

## 4. 소셜 로그인 버튼 비활성 처리

- [ ] 4.1 Apple/Kakao/GitHub 버튼 노출 및 비활성 상태 요구사항에 대한 테스트를 작성한다
- [ ] 4.2 소셜 버튼을 클릭 불가 상태로 구현하고 "준비 중" 안내를 표시한다
- [ ] 4.3 소셜 버튼 클릭 시 OAuth 요청이 발생하지 않음을 검증한다

## 5. 쿠키 기반 세션 및 인증 상태 확정

- [ ] 5.1 인증 상태를 httpOnly `accessToken` 쿠키 전제로 처리하는 세션 유틸리티를 구현한다
- [ ] 5.2 `localStorage`/`sessionStorage`에 토큰을 저장하지 않도록 인증 흐름을 정리한다
- [ ] 5.3 보호 영역 진입 시 `me` 조회로 인증 상태를 확정하고 실패 시 비인증 전환 로직을 구현한다
- [ ] 5.4 보호 영역 진입 시 `me` 조회 대기 상태(로딩 UI)를 정의하고 테스트로 검증한다

## 6. 라우트 가드 및 리다이렉트 정책

- [ ] 6.1 공개 전용 라우트(`/login`, `/sign-up`)에 대한 인증 사용자 `/me` 리다이렉트 규칙을 구현한다
- [ ] 6.2 보호 라우트(`/posts`, `/me` 및 탭 영역)의 비인증 접근 차단(Next.js Middleware)과 `/login` 리다이렉트 규칙을 구현한다

## 7. 인증 에러 피드백 통일

- [ ] 7.1 인증 에러 코드를 중앙 매핑 규칙으로 처리하는 공통 계층을 구현한다
- [ ] 7.2 `INVALID_CREDENTIALS`, `ACCOUNT_TEMPORARILY_LOCKED`, `UNAUTHORIZED`에 대해 보수적 단일 문구 정책을 적용한다
- [ ] 7.3 `UNAUTHORIZED` 발생 시 재인증 흐름(로그인 유도)으로 연결되는 처리를 구현한다

## 8. 검증 및 마무리

- [ ] 8.1 Vitest로 로그인/회원가입/가드/에러 매핑 단위 테스트를 실행하고 실패 케이스를 정리한다
- [ ] 8.2 Playwright로 로그인 성공/실패, 공개·보호 라우트 리다이렉트, 분리 오리진 쿠키 전송 E2E를 검증한다
- [ ] 8.3 구현 결과가 proposal/design/specs와 일치하는지 점검하고 변경 범위를 문서화한다
